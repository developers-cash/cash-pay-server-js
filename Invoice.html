<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Class: Invoice | JS/Node</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="">
        
            <a href="https://infra.cash" rel="noopener noreferrer" target="_blank">
                <img src="/logo.svg" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">JS/Node</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="Config.html">Config</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Config_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Config.html#invoice">invoice</a></li><li><a href="Config.html#options">options</a></li></ul></div></li><li><a href="Invoice.html">Invoice</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Invoice_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Invoice.html#.fromExisting">fromExisting</a></li><li><a href="Invoice.html#.fromServerEndpoint">fromServerEndpoint</a></li><li><a href="Invoice.html#addAddress">addAddress</a></li><li><a href="Invoice.html#addOutput">addOutput</a></li><li><a href="Invoice.html#create">create</a></li><li><a href="Invoice.html#on">on</a></li><li><a href="Invoice.html#payload">payload</a></li><li><a href="Invoice.html#setAPIKey">setAPIKey</a></li><li><a href="Invoice.html#setExpires">setExpires</a></li><li><a href="Invoice.html#setMemo">setMemo</a></li><li><a href="Invoice.html#setMerchantData">setMerchantData</a></li><li><a href="Invoice.html#setPrivateData">setPrivateData</a></li><li><a href="Invoice.html#setUserCurrency">setUserCurrency</a></li><li><a href="Invoice.html#setWebhook">setWebhook</a></li></ul></div></li><li><a href="Webhook.html">Webhook</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Webhook_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Webhook.html#addTrusted">addTrusted</a></li><li><a href="Webhook.html#verifySignature">verifySignature</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Invoice<span class="signature">(opts, invoice)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>A Cash Payment Server Invoice</p>
<p><small>Any field that is prefixed with an underscore is private and should
never be accessed directly.</small></p>
<p><small>Any field that is not prefixed by an underscore is considered public
and stable (hence there are no "getter" functions in this class).
Only use setters to modify the parameters of an invoice - do not set
values directly.</small></p></div>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dt>
    
        <h4 class="name" id="Invoice">
            
                new <span class="type-signature"></span>Invoice<span class="signature">(opts, invoice)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line45">line 45</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">Options for invoice instance (use setters instead)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>invoice</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">Invoice properties (use setters instead)</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>//
// Server-side
//
let invoice = new CashPay.Invoice()
  .setMerchantKey('your.site|SECURE_KEY_123')
  .addAddress('bitcoincash:qpfsrgdeq49fsjrg5qk4xqhswjl7g248950nzsrwvn', '1USD')
  .setWebhooks(['broadcasting', 'broadcasted', 'confirmed'], 'https://webhook.site/1aa1cc3b-8ee8-4f70-a4cd-abc0c9b8d1f2')
await invoice.create()

// Send Payload JSON to browser
return invoice.getPayload()

//
// Client-side
//
let invoice = await CashPay.Invoice.fromServerEndpoint('your-endpoint-above')
invoice.on(['broadcasting', 'broadcasted'], (event) {
  console.log(event)
})
invoice.create(document.getElementById('invoice-container'))</code></pre>

    

</dd>

        
        </div>
    

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
                

<dt>
    
        <h4 class="name" id=".fromExisting">
            
                <span class="type-signature"><span class="icon green">static</span> </span>fromExisting<span class="signature">(existingInvoice, options)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line62">line 62</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create an instance from an existing invoice.</p>
<p>This should be used if, for example, the invoice is being created from a server-side endpoint.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>existingInvoice</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The existing invoice (created from the server-side)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">List of options to set upon creation.</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>let invoice = CashPay.Invoice.fromExisting(invoicePayload)
await invoice.create(document.getElementById('invoice-container'))</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id=".fromServerEndpoint">
            
                <span class="type-signature"><span class="icon green">async</span>, <span class="icon green">static</span> </span>fromServerEndpoint<span class="signature">(endpoint, params, options)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line83">line 83</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Convenience function to create an invoice from the data returned from
the given server-side endpoint.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>endpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The endpoint to retreive the invoice from</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The parameters to pass to the endpoint</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The options to specify (see axios.post options)</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>let invoice = CashPay.Invoice.fromServerEndpoint('/create-invoice', {
  orderId: "xxxx"
});

await invoice.create(document.getElementById('invoice-container'))</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="addAddress">
            
                <span class="type-signature"></span>addAddress<span class="signature">(address, amount)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line137">line 137</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Add an address output to Invoice.
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>address</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Bitcoin Cash address</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Amount in satoshis or string with currency code suffix</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>let invoice = new Invoice();
invoice.addAddress("bitcoincash:qzeup9lysjazfvqnv07ns9c846aaul7dtuqqncf6jg", 100000);

// Or specify a currency code for on-the-fly conversion
invoice.addAddress("bitcoincash:qzeup9lysjazfvqnv07ns9c846aaul7dtuqqncf6jg", "2.50USD");</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="addOutput">
            
                <span class="type-signature"></span>addOutput<span class="signature">(script, amount<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line155">line 155</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Add a script output to the Invoice.</p>
<p>Note that this is not supported by JSONPaymentProtocol.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>script</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Raw output script (in hexadecimal)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    0
                
                </td>
            

            <td class="description last">Amount in satoshis</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Set OP_RETURN data to "EXAMPLE_OP_RETURN_DATA"
invoice.addOutput('6a164558414d504c455f4f505f52455455524e5f44415441')</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="create">
            
                <span class="type-signature"><span class="icon green">async</span> </span>create<span class="signature">(container<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line297">line 297</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Create the invoice.</p>
<p>If "id" does not exist on invoice, a new Invoice will be requested from the CashPayServer.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>container</code></td>
            

            <td class="type">
            
                
<span class="param-type">DOMElement</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">DOM Element to render CashPay in</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options for container rendering</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Using default container
let invoice = new CashPay.Invoice()
invoice.addAddress('bitcoincash:qpfsrgdeq49fsjrg5qk4xqhswjl7g248950nzsrwvn', '1USD')
await invoice.create(document.getElementById('invoice-container'))

// Using default container with options
let invoice = new CashPay.Invoice()
invoice.addAddress('bitcoincash:qpfsrgdeq49fsjrg5qk4xqhswjl7g248950nzsrwvn', '1USD')
await invoice.create(document.getElementById('invoice-container'), { color: '#000' })

// No Container (e.g. handle rendering with reactive properties)
let invoice = new CashPay.Invoice()
invoice.addAddress('bitcoincash:qpfsrgdeq49fsjrg5qk4xqhswjl7g248950nzsrwvn', '1USD')
await invoice.create();</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="on">
            
                <span class="type-signature"></span>on<span class="signature">(events, callback)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line116">line 116</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Add an event handler.</p>
<p>Most of these events will be sent by the WebSocket connection.</p>
<p>Supported events are:</p>
<ul>
 <li>created</li>
 <li>broadcasting</li>
 <li>broadcasted</li>
 <li>expired</li>
 <li>failed</li>
</ul>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>events</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Event to handle (or array of events)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Callback function</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Add listener for failed event
let invoice = new CashPay.Invoice()
  .addAddress('bitcoincash:qpfsrgdeq49fsjrg5qk4xqhswjl7g248950nzsrwvn', '1AAAA')
  .on('failed', (err) {
    alert(err.message)
  }

// Add event listener for broadcasting and broadcasted event
let invoice = new CashPay.Invoice()
  .addAddress('bitcoincash:qpfsrgdeq49fsjrg5qk4xqhswjl7g248950nzsrwvn', '1AAAA')
  .on(['broadcasting', 'broadcasted'], (event) {
    console.log(event)
  }</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="payload">
            
                <span class="type-signature"></span>payload<span class="signature">(publicOnly<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line342">line 342</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Get the payload of the invoice.</p>
<p>This function can be used to pass the invoice back to the browser from the server-side.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>publicOnly</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last">Only return properties that should be visible to the end user (hide private options)</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Get JSON payload
let payload = invoice.getPayload()

// Get FULL JSON payload (security risk!)
let payload = invoice.getPayload(true)</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="setAPIKey">
            
                <span class="type-signature"></span>setAPIKey<span class="signature">()</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line212">line 212</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets the API Key</p>
<p>If a Merchant sets this key, it gives them elevated access to an invoice meaning they
can use this later to retrieve a list of invoices (with this key set) that failed and
manually re-trigger the sending of Webhooks.</p>
    </div>
    

    

    

    

    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>invoice.setAPIKey('https://t.me/yourname|SECURE_STRING')</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="setExpires">
            
                <span class="type-signature"></span>setExpires<span class="signature">(seconds)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line171">line 171</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Set expiration time
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>seconds</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Seconds from time of creation that Payment Request expires</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// 15 minutes
invoice.setExpiration(15 * 60)</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="setMemo">
            
                <span class="type-signature"></span>setMemo<span class="signature">(memo)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line183">line 183</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Sets a BIP70/JPP memo
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>memo</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Memo text</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Memos are not supported by all wallets
invoice.setMemo("Payment to YOUR_SERVICE_NAME")</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="setMerchantData">
            
                <span class="type-signature"></span>setMerchantData<span class="signature">(data)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line199">line 199</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets Merchant Data associated with invoice</p>
<p><strong>This must be Base64 encoded</strong></p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Base64 encoded string</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Node
invoice.setMerchantData(Buffer.from('INVOICE_001', 'base64'))

// Browser
invoice.setMerchantData(btoa('INVOICE_001'))</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="setPrivateData">
            
                <span class="type-signature"></span>setPrivateData<span class="signature">(data)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line230">line 230</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        <p>Sets Private Data against the invoice.</p>
<p>Private data is stored under the 'options' object of an invoice and should never be exposed to the end user.</p>
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">If an object is passed, this will be converted to a string.</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Using a string
invoice.setPrivateData("ORDERID: 12345");

// Using an object
invoice.setPrivateData({
 orderId: '12345'
})</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="setUserCurrency">
            
                <span class="type-signature"></span>setUserCurrency<span class="signature">(currency)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line246">line 246</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        The unit of fiat (e.g. USD) that will be displayed to the user
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currency</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The currency code</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Show invoice total in Australian Dollars
invoice.setUserCurrency('AUD')</code></pre>

    

</dd>

            
                

<dt>
    
        <h4 class="name" id="setWebhook">
            
                <span class="type-signature"></span>setWebhook<span class="signature">(events, endpoint)</span><span class="type-signature"></span>
                
            
            <div class="container-source members">
                <code><a href="invoice.js.html">invoice.js</a></code>,
                <code><a href="invoice.js.html#line264">line 264</a></code>
            </div>
            
        </h4>

        
    
</dt>
<dd>

    
    <div class="description">
        Set Webhook
    </div>
    

    

    

    

    
    <div class="container-params">
        <h5>Parameters:</h5>
        
<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>events</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>
|

<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The type of Webhook (requested, broadcasted, etc)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>endpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">The endpoint that should be hit</td>
        </tr>

    
    </tbody>
</table>

    </div>
    

    

    

    

    

    

    

    


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>// Set single Webhook
let invoice = new Invoice();
invoice.setWebhook("broadcasted", 'https://webhook.site/1aa1cc3b-8ee8-4f70-a4cd-abc0c9b8d1f2');

// Set multiple Webhooks
let invoice = new Invoice();
invoice.setWebhook(['broadcasting', 'broadcasted', 'confirmed'], 'https://webhook.site/1aa1cc3b-8ee8-4f70-a4cd-abc0c9b8d1f2')</code></pre>

    

</dd>

            </dl>
    

    

    
</article>

</section>




</div>

<footer>
    <img class="logo" src="/logo.svg" style="">
    <div class="footer-text"><a href="https://infra.cash">https://infra.cash</a></div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = 'Invoice_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>